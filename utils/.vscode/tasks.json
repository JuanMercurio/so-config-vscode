{
    "version": "2.0.0",
    "tasks": [
         
        /*
        This file is optimized to run in VSCode V1.35 32-bit. In newer versions of VSCode
        there are better ways to achive what this file does. Like workspace tasks.

        Using VSCode version 1.35 (latest for 32-bit systems):
            - Does not have workspace tasks available so we are using "Build All" in this file
            - Does not have "dependsOrder", so we have to only use "dependsOn". 
      
        */
        
        {
            "label": "Build All",
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "dependsOn" :[
                /* 
                This tasks will run in parallel, if something breaks in compilation 
                you need to change the way this works as mention above. Meanwhile this works 
                */
                "Build Utils",  
                "Build Project"
            ]
        },
        {
            "label": "Clean All",
            "type": "shell",
            "command": "cd .. && make clean",
            "presentation": {
                "reveal": "never",
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": "build"
        },

        {   // Use this tasks as guide to create more modules
            "label": "Build Utils",
            "type": "shell",
            "command": "make all",
            "options": {
                "cwd": "${workspaceFolder:utils}"
            },
            "group": "build",
            "problemMatcher": {
                "base": "$gcc",
                "fileLocation" : [ "relative", "${workspaceFolder:utils}"]
            }
        },

        {
            "label": "Build Project",
            "type": "shell",
            "command": "make all",
            "options": {
                "cwd": "${workspaceFolder:project}"
            },
            "group": "build",
            "problemMatcher": {
                "base": "$gcc",
                "fileLocation" : [ "relative", "${workspaceFolder:project}"]
            }
        }
    ]
}